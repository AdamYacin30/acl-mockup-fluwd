<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Dashboard</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Bootstrap Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">
</head>
<body>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <nav id="sidebar" class="col-md-2 col-lg-2 d-md-block bg-light sidebar">
            <div class="d-flex flex-column py-3">
              <!-- Main Profile Header -->
              <div class="profile-section d-flex align-items-center px-3 mb-3">
                <img src="https://via.placeholder.com/40" alt="User Image" class="rounded-circle me-2">
                <div>
                  <p class="mb-0 fw-bold">Fluwd</p>
                  <small>Your AI Project Manager</small>
                </div>
              </div>
          
              <!-- Divider Line -->
              <hr class="section-divider">
          
              <!-- Profile Avatar and Location -->
              <div class="text-center mb-3">
                <img src="https://via.placeholder.com/80" alt="Profile Avatar" class="rounded-circle mb-2">
                <p class="location mb-0">Ottawa, ON</p>
              </div>
          
              <!-- Divider Line -->
              <hr class="section-divider">
          
              <!-- Sidebar Navigation -->
              <ul class="nav flex-column px-2">
                <li class="nav-item my-2">
                    <a class="nav-link d-flex align-items-center" href="dashboard.html">
                      <i class="bi bi-house-door me-2"></i> <span class="fw-bold">Dashboard</span>
                    </a>
                  </li>
                  
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-bar-chart me-2"></i> <span class="fw-bold">Portfolio</span>
                  </a>
                </li>
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-folder me-2"></i> <span class="fw-bold">Program</span>
                  </a>
                </li>
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-list-check me-2"></i> <span class="fw-bold">Projects</span>
                  </a>
                </li>
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-chat-left-dots me-2"></i> <span class="fw-bold">Boards</span>
                  </a>
                </li>
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-inbox me-2"></i> <span class="fw-bold">Inbox</span>
                  </a>
                </li>
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-graph-up me-2"></i> <span class="fw-bold">Analytics</span>
                  </a>
                </li>
                <li class="nav-item my-2">
                  <a class="nav-link d-flex align-items-center" href="#">
                    <i class="bi bi-gear me-2"></i> <span class="fw-bold">Settings</span>
                  </a>
                </li>
              </ul>
            </div>
          </nav>
          
          

      <!-- Main content -->
      <main class="col-md-10 ms-sm-auto col-lg-10 px-md-4">
          <div class="d-flex justify-content-between flex-wrap align-items-center pt-3 pb-2 mb-4">
              <h2 class="mb-0">Welcome, Alexander</h2>
              <div class="d-flex align-items-center">
                  <span class="me-3">PMO</span>
                  <img src="avatar.jpg" alt="Avatar" class="rounded-circle" width="40" height="40">
              </div>
          </div>

          <!-- Summary cards -->
          <div class="row mb-4 g-3">
              <div class="col-md-3">
                  <div class="card p-3 text-center border-0 shadow-sm">
                      <div class="d-flex align-items-center justify-content-center mb-2">
                          <i class="bi bi-heart-fill text-primary me-2" style="font-size: 1.5rem;"></i>
                          <h4 class="mb-0">178+</h4>
                      </div>
                      <p class="mb-0">Projects</p>
                  </div>
              </div>
              <div class="col-md-3">
                  <div class="card p-3 text-center border-0 shadow-sm">
                      <div class="d-flex align-items-center justify-content-center mb-2">
                          <i class="bi bi-file-lock-fill text-warning me-2" style="font-size: 1.5rem;"></i>
                          <h4 class="mb-0">20+</h4>
                      </div>
                      <p class="mb-0">Programs</p>
                  </div>
              </div>
              <div class="col-md-3">
                  <div class="card p-3 text-center border-0 shadow-sm">
                      <div class="d-flex align-items-center justify-content-center mb-2">
                          <i class="bi bi-exclamation-circle-fill text-danger me-2" style="font-size: 1.5rem;"></i>
                          <h4 class="mb-0">190+</h4>
                      </div>
                      <p class="mb-0">Risks</p>
                  </div>
              </div>
              <div class="col-md-3">
                  <div class="card p-3 text-center border-0 shadow-sm">
                      <div class="d-flex align-items-center justify-content-center mb-2">
                          <i class="bi bi-archive-fill text-info me-2" style="font-size: 1.5rem;"></i>
                          <h4 class="mb-0">12+</h4>
                      </div>
                      <p class="mb-0">Issues</p>
                  </div>
              </div>
          </div>

          <div class="row mb-4 g-3 align-items-stretch">
            <!-- Actual Cost Chart -->
            <div class="col-lg-7 col-md-7 mb-3 d-flex">
                <div class="card shadow-sm border-0 w-100 h-100">
                    <div class="card-header bg-transparent">Actual Cost</div>
                    <div class="card-body">
                        <canvas id="actualCostChart"></canvas>
                    </div>
                </div>
            </div>
        
            <!-- Analytics Chart -->
            <div class="col-lg-5 col-md-5 mb-3 d-flex">
                <div class="card shadow-sm border-0 w-100 h-100">
                    <div class="card-header bg-transparent">Analytics</div>
                    <div class="card-body p-3">
                        <canvas id="analyticsPieChart" style="max-height: 300px;"></canvas>
                        <div class="mt-3 text-center">
                            <span class="badge bg-primary">On Track</span>
                            <span class="badge bg-warning">At Risk</span>
                            <span class="badge bg-danger">Delayed</span>
                            <span class="badge bg-secondary">Pending</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
          <!-- Projects and Critical Projects side by side -->
          <div class="row g-3">
              <div class="col-lg-7 col-md-7 mb-3">
                  <div class="card border-0 shadow-sm">
                      <div class="card-header border-0 bg-transparent">Projects</div>
                      <div class="card-body">
                          <table class="table table-striped">
                              <thead>
                                  <tr>
                                      <th>Tracking No</th>
                                      <th>Project Name</th>
                                      <th>Status</th>
                                      <th>Actual Cost</th>
                                      <th>Budget</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <tr>
                                      <td>#876384</td>
                                      <td>Camera Lens</td>
                                      <td><span class="badge bg-info">In Progress</span></td>
                                      <td>$178</td>
                                      <td>$1,466,660</td>
                                  </tr>
                                  <tr>
                                      <td>#876368</td>
                                      <td>Black Sleep Dress</td>
                                      <td><span class="badge bg-info">In Progress</span></td>
                                      <td>$14</td>
                                      <td>$46,660</td>
                                  </tr>
                                  <tr>
                                    <td>#876621</td>
                                    <td>Argan Oil</td>
                                    <td><span class="badge bg-info">In Progress</span></td>
                                    <td>$21</td>
                                    <td>$346,981</td>
                                </tr>
                                
                                  <!-- Add more rows as needed -->
                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
              <div class="col-lg-5 col-md-5 mb-3">
                <div class="card border-0 shadow-sm">
                    <div class="card-header border-0 bg-transparent">Critical Projects</div>
                    <div class="card-body">
                        <div class="project-item d-flex mb-3">
                            <img src="shoes.png" alt="Project Fluwd" class="project-image me-3 rounded">
                            <div class="project-details">
                                <h5 class="mb-1">Project Fluwd</h5>
                                <span class="badge bg-danger mb-2">Delayed</span>
                                <p class="mb-0">
                                    <strong>10</strong> Critical Issues | <strong>20</strong> High Risks
                                </p>
                            </div>
                        </div>
                        <div class="project-item d-flex">
                            <img src="iphone.png" alt="Project Odyssey" class="project-image me-3 rounded">
                            <div class="project-details">
                                <h5 class="mb-1">Project Odyssey</h5>
                                <span class="badge bg-danger mb-2">Delayed</span>
                                <p class="mb-0">
                                    <strong>15</strong> Critical Issues | <strong>25</strong> High Risks
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
          </div>
      </main>
    </div>
  </div>

<!-- JavaScript for Charts -->
<script>
  // Line chart for Actual Cost with gradient
  var ctx = document.getElementById('actualCostChart').getContext('2d');
  var gradient = ctx.createLinearGradient(0, 0, 0, 400);
  gradient.addColorStop(0, 'rgba(54, 162, 235, 1)');
  gradient.addColorStop(1, 'rgba(153, 102, 255, 0.2)');

  var actualCostChart = new Chart(ctx, {
      type: 'line',
      data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
          datasets: [{
              label: 'Actual Cost',
              data: [10, 20, 15, 30, 50, 60, 70, 65, 80, 90],
              borderColor: gradient,
              backgroundColor: gradient,
              borderWidth: 3,
              pointRadius: 5,
              pointHoverRadius: 8,
              fill: true
          }]
      },
      options: {
          responsive: true,
          scales: {
              y: {
                  beginAtZero: true
              }
          }
      }
  });

  // Doughnut chart for Analytics with centered text plugin
  // Updated Doughnut chart for Analytics with centered, smaller, bolded text
var ctx2 = document.getElementById('analyticsPieChart').getContext('2d');
var analyticsPieChart = new Chart(ctx2, {
    type: 'doughnut',
    data: {
        labels: ['On Track', 'At Risk', 'Delayed', 'Pending'],
        datasets: [{
            data: [40, 20, 30, 10], // Replace with your actual data
            backgroundColor: ['#36A2EB', '#FFCE56', '#FF6384', '#CCCCCC'],
            hoverOffset: 4
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                enabled: true
            }
        }
    },
    plugins: [{
        id: 'textCenter',
        beforeDraw: function(chart) {
            var width = chart.width,
                height = chart.height,
                ctx = chart.ctx;
            ctx.restore();

            // Adjusted font size for smaller text
            var fontSize = (height / 250).toFixed(2); // Reduced scale for smaller text
            ctx.font = `bold ${fontSize}em sans-serif`;
            ctx.textBaseline = "middle";

            var text = '40% On Track', // Replace with dynamic data if needed
                textX = Math.round((width - ctx.measureText(text).width) / 2),
                textY = height / 2;

            ctx.fillStyle = '#333'; // Ensure the text color is visible
            ctx.fillText(text, textX, textY);
            ctx.save();
        }
    }]
});


  var ctx2 = document.getElementById('analyticsPieChart').getContext('2d');
  var analyticsPieChart = new Chart(ctx2, {
      type: 'doughnut',
      data: {
          labels: ['On Track', 'At Risk', 'Delayed', 'Pending'],
          datasets: [{
              data: [40, 20, 30, 10],
              backgroundColor: ['#36A2EB', '#FFCE56', '#FF6384', '#CCCCCC'],
              hoverOffset: 4
          }]
      },
      options: {
          responsive: true,
          plugins: {
              legend: {
                  display: false
              }
          }
      }
  });
</script>

<!-- Bootstrap 5 Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
